jQuery.ajaxSetup({beforeSend:function(a){a.setRequestHeader("Accept","text/javascript")}});$.fn.extend({quickClick:function(a){this.live("touchstart",function(b){moved=false;$(this).addClass("pressed");$(this).bind("touchmove",function(){moved=true;$(this).removeClass("pressed")});$(this).bind("touchend",function(c){c.preventDefault();$(this).unbind("touchend");$(this).unbind("touchmove");$(this).removeClass("pressed");if(!moved){a($(this))}})})}});function _ajax_request(a,c,e,b,d){if(jQuery.isFunction(c)){e=c;c={}}return jQuery.ajax({type:d,url:a,data:c,success:e,dataType:b})}jQuery.extend({put:function(a,c,d,b){return _ajax_request(a,c,d,b,"PUT")},delete_:function(a,c,d,b){return _ajax_request(a,c,d,b,"DELETE")}});$(document).ready(function(){$(".pop_target").live("touchstart",function(a){a.preventDefault();$(".popover").hide();$(this).siblings(".popover").show()});$("#content").live("touchend",function(a){a.preventDefault();if(!$(a.target).hasClass("pop_target")&&!$(a.target).hasClass("popover")&&!$(a.target).parent().hasClass("popover")){$(".popover").hide()}});$(".popover span.delete").quickClick(function(c){var b=confirm("Are you sure you want to delete this item?");var a=c.parents("li.has_popover");if(b){$.delete_(c.data("location"),c.serialize(),function(d){if(d){a.remove()}else{a.children(".popover").hide();alert("There was a problem deleting that item. Let us know if the problem continues.")}})}else{a.children(".popover").hide()}return false});$(".get").quickClick(function(a){$.get(a.data("location"),null,function(b){$("#main").html(b)})});$("input#search").live("keyup",function(){var a=$(this).parents("form#search_form");$.post(a.attr("action"),a.serialize(),function(b){$("#list_of_stuff").html(b)})});$("#new_item").live("submit",function(){$.post($(this).attr("action"),$(this).serialize(),function(a){$("#list_of_stuff").html(a);$("#new_item").each(function(){this.reset()})});return false})});